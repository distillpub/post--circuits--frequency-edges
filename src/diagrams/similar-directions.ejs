<% models = require("../../static/diagrams/4.1-similar-directions/similar-directions.json").models%>

<style>

    strong d-cite {
      font-weight: normal;
    }

    figure.columns {
        display: grid;
        grid-gap: 0.5em;
        grid-template-columns: repeat(4, 1fr);
        overflow: hidden;
    }

    .columns .model {
        display: grid;
        /* position: relative;
        grid-row-gap: 0.5em;
        grid-auto-flow: row;
        align-content: start;
        grid-template-rows: min-content; */
    }

    .model picture {
        position: relative;
    }

    .model img {
        box-sizing: border-box;
        position: relative;
        width: unset;
        object-fit: none;
        z-index: 1;
        outline: 6px solid white;
        border-radius: 8px;
    }

    .model figcaption>* {
        display: block;
    }

    /*
    HAAAACKY
    */
    .model:first-of-type picture::before {
        content: "";
        display: block;
        position: absolute;
        height: 1px;
        width: 350%;
        left: 0;
        top: 48px;
        background-color: #aaa;
        z-index: 0;
    }

    .columns>figcaption {
        grid-column: 1 / span 4;
    }
</style>

<d-figure id="figure-14">
    <figure id="4.1-similar-directions" class="columns" style="overflow-x: scroll;">
        <% for (const model of models) { %>
        <%= require('./similar-directions-model.ejs')({model}) %>
        <%}%>
        <figcaption>
            <a href="#figure-14" class="figure-number">14</a>. High-low frequency detectors that we've found in AlexNet, InceptionV4, and ResnetV2-50 (right), compared to their most similar counterpart from InceptionV1 (left). These are individual neurons, not linear combinations approximating the detectors in InceptionV1.
        </figcaption>
    </figure>
</d-figure>